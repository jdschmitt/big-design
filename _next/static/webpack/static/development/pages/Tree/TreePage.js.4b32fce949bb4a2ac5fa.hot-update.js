webpackHotUpdate("static/development/pages/Tree/TreePage.js",{

/***/ "../big-design/dist/es/components/Tree/TreeNode/TreeNode.js":
/*!******************************************************************!*\
  !*** ../big-design/dist/es/components/Tree/TreeNode/TreeNode.js ***!
  \******************************************************************/
/*! exports provided: TreeNode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TreeNode\", function() { return TreeNode; });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"../../node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/toConsumableArray */ \"../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"../../node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/esm/asyncToGenerator */ \"../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var _bigcommerce_big_design_icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @bigcommerce/big-design-icons */ \"../big-design-icons/dist/es/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../utils */ \"../big-design/dist/es/utils/index.js\");\n/* harmony import */ var _Checkbox_private__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../Checkbox/private */ \"../big-design/dist/es/components/Checkbox/private.js\");\n/* harmony import */ var _Radio_styled__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../Radio/styled */ \"../big-design/dist/es/components/Radio/styled.js\");\n/* harmony import */ var _DelayedSpinner__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../DelayedSpinner */ \"../big-design/dist/es/components/Tree/DelayedSpinner/index.js\");\n/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../hooks */ \"../big-design/dist/es/components/Tree/hooks.js\");\n/* harmony import */ var _styled__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../styled */ \"../big-design/dist/es/components/Tree/styled.js\");\n/* harmony import */ var _styled__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./styled */ \"../big-design/dist/es/components/Tree/TreeNode/styled.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar flexItemProps = {\n  flexShrink: 0,\n  marginLeft: 'xxSmall'\n};\n\nvar InternalTreeNode = function InternalTreeNode(_ref) {\n  var children = _ref.children,\n      disabled = _ref.disabled,\n      dispatch = _ref.dispatch,\n      icon = _ref.icon,\n      iconless = _ref.iconless,\n      id = _ref.id,\n      label = _ref.label,\n      onCollapse = _ref.onCollapse,\n      onExpand = _ref.onExpand,\n      onSelect = _ref.onSelect,\n      selectable = _ref.selectable,\n      state = _ref.state,\n      value = _ref.value;\n  var thisRef = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useRef\"])({\n    children: children\n  });\n  var nodeRef = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useRef\"])(null);\n  var selectableRef = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useRef\"])(null);\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(false),\n      _useState2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var expanded = Object(_hooks__WEBPACK_IMPORTED_MODULE_11__[\"useIsExpanded\"])(state, id);\n  var selected = Object(_hooks__WEBPACK_IMPORTED_MODULE_11__[\"useIsSelected\"])(state, value);\n  var selectedChildrenCount = Object(_hooks__WEBPACK_IMPORTED_MODULE_11__[\"useSelectedChildrenCount\"])(state, children); // Could be multiple elements in which are clicked.\n  // Typing to generic Element type since all other elements extend from it.\n\n  var handleNodeToggle = /*#__PURE__*/function () {\n    var _ref2 = Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[\"default\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(e) {\n      var _selectableRef$curren;\n\n      var callbackValue, _callbackValue;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              dispatch({\n                type: 'FOCUS',\n                id: id\n              }); // Prevents the collapse/expand when clicking on a radio or checkbox\n              // Checks to see if every element inside the selectableRef gets clicked.\n\n              if (!((e === null || e === void 0 ? void 0 : e.target) instanceof Node && ((_selectableRef$curren = selectableRef.current) === null || _selectableRef$curren === void 0 ? void 0 : _selectableRef$curren.contains(e === null || e === void 0 ? void 0 : e.target)) || thisRef.current.children === undefined)) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 3:\n              dispatch({\n                type: 'TOGGLE_NODE',\n                id: id\n              });\n\n              if (!expanded) {\n                _context.next = 12;\n                break;\n              }\n\n              if (!(typeof onCollapse === 'function')) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.next = 8;\n              return onCollapse({\n                children: thisRef.current.children,\n                disabled: disabled,\n                expanded: expanded,\n                id: id,\n                label: label,\n                selected: selected,\n                value: value\n              });\n\n            case 8:\n              callbackValue = _context.sent;\n\n              if (callbackValue) {\n                thisRef.current = callbackValue;\n              }\n\n            case 10:\n              _context.next = 19;\n              break;\n\n            case 12:\n              if (!(typeof onExpand === 'function')) {\n                _context.next = 19;\n                break;\n              }\n\n              setIsLoading(true);\n              _context.next = 16;\n              return onExpand({\n                children: thisRef.current.children,\n                disabled: disabled,\n                expanded: expanded,\n                id: id,\n                label: label,\n                selected: selected,\n                value: value\n              });\n\n            case 16:\n              _callbackValue = _context.sent;\n\n              if (_callbackValue) {\n                thisRef.current = _callbackValue;\n                dispatch({\n                  type: 'ASYNC_TOGGLE',\n                  radio: selectable === 'radio',\n                  id: id,\n                  children: thisRef.current.children\n                });\n              }\n\n              setIsLoading(false);\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleNodeToggle(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleNodeSelected = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useCallback\"])(function () {\n    if (selectable === undefined || value === undefined || disabled) {\n      return;\n    }\n\n    var newSelectedValues = Object(_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(state.selectedValues);\n\n    if (selectable === 'multi') {\n      if (newSelectedValues.some(function (selectedValue) {\n        return selectedValue.value === value;\n      })) {\n        newSelectedValues = newSelectedValues.filter(function (selectedValue) {\n          return selectedValue.value !== value;\n        });\n      } else {\n        newSelectedValues = [].concat(Object(_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(newSelectedValues), [{\n          id: id,\n          value: value\n        }]);\n      }\n\n      if (typeof onSelect === 'function') {\n        onSelect(Array.from(newSelectedValues));\n      }\n    }\n\n    if (selectable === 'radio') {\n      newSelectedValues = [{\n        id: id,\n        value: value\n      }];\n\n      if (typeof onSelect === 'function') {\n        onSelect(newSelectedValues[0]);\n      }\n    }\n\n    dispatch({\n      type: 'SELECTED_NODE',\n      values: newSelectedValues\n    });\n  }, [disabled, dispatch, id, onSelect, selectable, state.selectedValues, value]); // Needs to handle the following keyboard events:\n  // https://www.w3.org/TR/wai-aria-practices/#keyboard-interaction-22\n\n  var handleKeyEvent = function handleKeyEvent(e) {\n    var _thisRef$current, _thisRef$current2, _state$nodeMap$get;\n\n    var key = e.key;\n\n    if (e.altKey || e.currentTarget !== e.target) {\n      return;\n    }\n\n    switch (key) {\n      case ' ':\n        e.preventDefault();\n        handleNodeSelected();\n        break;\n\n      case 'Enter':\n        e.preventDefault(); // Stopping propagation if inside a form\n\n        e.stopPropagation();\n\n        if (nodeRef.current === e.currentTarget) {\n          if (thisRef.current.children) {\n            handleNodeToggle();\n          } else if (selectable) {\n            handleNodeSelected();\n          }\n        }\n\n        break;\n\n      case 'ArrowDown':\n        e.preventDefault();\n        dispatch({\n          type: 'FOCUS_DOWN',\n          id: id\n        });\n        break;\n\n      case 'ArrowUp':\n        e.preventDefault();\n        dispatch({\n          type: 'FOCUS_UP',\n          id: id\n        });\n        break;\n\n      case 'ArrowRight':\n        e.preventDefault();\n\n        if ((_thisRef$current = thisRef.current) === null || _thisRef$current === void 0 ? void 0 : _thisRef$current.children) {\n          if (expanded) {\n            dispatch({\n              type: 'FOCUS_DOWN',\n              id: id\n            });\n          } else {\n            handleNodeToggle();\n          }\n        }\n\n        break;\n\n      case 'ArrowLeft':\n        e.preventDefault();\n\n        if ((_thisRef$current2 = thisRef.current) === null || _thisRef$current2 === void 0 ? void 0 : _thisRef$current2.children) {\n          if (expanded) {\n            handleNodeToggle();\n            break;\n          }\n        }\n\n        if (((_state$nodeMap$get = state.nodeMap.get(id)) === null || _state$nodeMap$get === void 0 ? void 0 : _state$nodeMap$get.parent) !== undefined) {\n          dispatch({\n            type: 'FOCUS_UP',\n            id: id\n          });\n        }\n\n        break;\n\n      case 'Home':\n        e.preventDefault();\n        dispatch({\n          type: 'FOCUS_FIRST'\n        });\n        break;\n\n      case 'End':\n        e.preventDefault();\n        dispatch({\n          type: 'FOCUS_LAST'\n        });\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  var additionalProps = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useMemo\"])(function () {\n    return selectable ? {\n      'aria-selected': selected\n    } : {};\n  }, [selectable, selected]);\n  var renderedArrow = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useMemo\"])(function () {\n    return thisRef.current.children ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_styled__WEBPACK_IMPORTED_MODULE_13__[\"StyledArrowWrapper\"], {\n      expanded: expanded,\n      flexShrink: 0\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_bigcommerce_big_design_icons__WEBPACK_IMPORTED_MODULE_5__[\"ChevronRightIcon\"], {\n      color: \"secondary60\",\n      focusable: false,\n      size: \"xLarge\"\n    })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_styled__WEBPACK_IMPORTED_MODULE_13__[\"StyledGap\"], null);\n  }, [expanded]);\n  var renderedChildren = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useMemo\"])(function () {\n    var _thisRef$current$chil;\n\n    return thisRef.current.children && expanded && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_styled__WEBPACK_IMPORTED_MODULE_12__[\"StyledUl\"], {\n      role: \"group\"\n    }, isLoading && thisRef.current.children.length < 1 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(TreeNode, {\n      id: -1,\n      label: \"\",\n      icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_DelayedSpinner__WEBPACK_IMPORTED_MODULE_10__[\"DelayedSpinner\"], null),\n      dispatch: dispatch,\n      selectable: selectable,\n      state: state\n    }) : (_thisRef$current$chil = thisRef.current.children) === null || _thisRef$current$chil === void 0 ? void 0 : _thisRef$current$chil.map(function (child, index) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(TreeNode, Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, child, {\n        dispatch: dispatch,\n        iconless: iconless,\n        key: index,\n        onCollapse: onCollapse,\n        onExpand: onExpand,\n        onSelect: onSelect,\n        selectable: selectable,\n        state: state\n      }));\n    }));\n  }, [dispatch, expanded, iconless, isLoading, onCollapse, onExpand, onSelect, selectable, state]);\n  var renderedIcon = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useMemo\"])(function () {\n    if (iconless) {\n      return null;\n    }\n\n    return icon ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_styled__WEBPACK_IMPORTED_MODULE_13__[\"StyledFlexItem\"], flexItemProps, icon) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_styled__WEBPACK_IMPORTED_MODULE_13__[\"StyledFlexItem\"], flexItemProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_bigcommerce_big_design_icons__WEBPACK_IMPORTED_MODULE_5__[\"FolderIcon\"], {\n      color: disabled ? 'primary20' : 'primary30',\n      size: \"xLarge\"\n    }));\n  }, [disabled, icon, iconless]);\n  var renderedSelectable = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useMemo\"])(function () {\n    if (value === undefined && selectable !== undefined) {\n      return null;\n    }\n\n    if (selectable === 'radio') {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_styled__WEBPACK_IMPORTED_MODULE_13__[\"StyledSelectableWrapper\"], flexItemProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Radio_styled__WEBPACK_IMPORTED_MODULE_9__[\"StyledRadio\"], {\n        \"aria-hidden\": true,\n        checked: selected,\n        disabled: disabled,\n        onClick: handleNodeSelected,\n        ref: selectableRef\n      }));\n    }\n\n    if (selectable === 'multi') {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_styled__WEBPACK_IMPORTED_MODULE_13__[\"StyledSelectableWrapper\"], flexItemProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_Checkbox_private__WEBPACK_IMPORTED_MODULE_8__[\"StyledCheckbox\"], {\n        \"aria-hidden\": true,\n        checked: selected,\n        disabled: disabled,\n        onClick: handleNodeSelected,\n        ref: selectableRef\n      }, selected ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_bigcommerce_big_design_icons__WEBPACK_IMPORTED_MODULE_5__[\"CheckIcon\"], null) : null));\n    }\n  }, [disabled, handleNodeSelected, selected, selectable, value]);\n  Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useEffect\"])(function () {\n    if (state.focusedNode === id) {\n      var _nodeRef$current;\n\n      nodeRef === null || nodeRef === void 0 ? void 0 : (_nodeRef$current = nodeRef.current) === null || _nodeRef$current === void 0 ? void 0 : _nodeRef$current.focus();\n    }\n  }, [state.focusedNode, id]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_styled__WEBPACK_IMPORTED_MODULE_13__[\"StyledLi\"], Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    \"aria-expanded\": expanded,\n    onKeyDown: handleKeyEvent,\n    ref: nodeRef,\n    role: \"treeitem\",\n    tabIndex: state.focusedNode === id ? 0 : -1\n  }, additionalProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_styled__WEBPACK_IMPORTED_MODULE_13__[\"StyledFlex\"], {\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    onClick: handleNodeToggle,\n    selected: selected\n  }, renderedArrow, renderedSelectable, renderedIcon, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_styled__WEBPACK_IMPORTED_MODULE_13__[\"StyledText\"], {\n    as: \"span\",\n    ellipsis: true,\n    marginLeft: \"xxSmall\",\n    color: disabled ? 'secondary50' : 'secondary70'\n  }, label, selectedChildrenCount ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_styled__WEBPACK_IMPORTED_MODULE_13__[\"StyledText\"], {\n    as: \"span\",\n    color: \"primary\"\n  }, ' ', \"(\", selectedChildrenCount, \")\") : null)), renderedChildren);\n};\n\nvar TreeNode = Object(_utils__WEBPACK_IMPORTED_MODULE_7__[\"typedMemo\"])(InternalTreeNode);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vYmlnLWRlc2lnbi9kaXN0L2VzL2NvbXBvbmVudHMvVHJlZS9UcmVlTm9kZS9UcmVlTm9kZS5qcz81YzJkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUEwRDtBQUNvQjtBQUNqQjtBQUNlO0FBQ047QUFDa0I7QUFDUDtBQUN0QztBQUNhO0FBQ1A7QUFDRTtBQUMrQjtBQUM3QztBQUMrRjtBQUNwSTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9EQUFNO0FBQ3RCO0FBQ0EsR0FBRztBQUNILGdCQUFnQixvREFBTTtBQUN0QixzQkFBc0Isb0RBQU07O0FBRTVCLGtCQUFrQixzREFBUTtBQUMxQixtQkFBbUIsd0ZBQWM7QUFDakM7QUFDQTs7QUFFQSxpQkFBaUIsNkRBQWE7QUFDOUIsaUJBQWlCLDZEQUFhO0FBQzlCLDhCQUE4Qix3RUFBd0Isa0JBQWtCO0FBQ3hFOztBQUVBO0FBQ0EsZ0JBQWdCLDJGQUFpQixlQUFlLGlFQUFtQjtBQUNuRTs7QUFFQTs7QUFFQSxhQUFhLGlFQUFtQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEVBQUU7QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlOztBQUVmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7O0FBRWY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVB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LE9BQU8sMEJBQTBCLDRDQUFLLGVBQWUsdUVBQVM7QUFDOUQ7QUFDQSxHQUFHO0FBQ0gsRUFBRSx1REFBUztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxzQkFBc0IsNENBQUssZUFBZSxpREFBUSxFQUFFLGtGQUFRO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGlDQUFpQyw0Q0FBSyxlQUFlLG1EQUFVO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxnRUFBZ0UsNENBQUssZUFBZSxtREFBVTtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsOENBQThDLDRDQUFLLGVBQWUsbURBQVU7QUFDL0U7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFTyxlQUFlLHdEQUFTIiwiZmlsZSI6Ii4uL2JpZy1kZXNpZ24vZGlzdC9lcy9jb21wb25lbnRzL1RyZWUvVHJlZU5vZGUvVHJlZU5vZGUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5XCI7XG5pbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3JcIjtcbmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvclwiO1xuaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgeyBDaGVja0ljb24sIENoZXZyb25SaWdodEljb24sIEZvbGRlckljb24gfSBmcm9tICdAYmlnY29tbWVyY2UvYmlnLWRlc2lnbi1pY29ucyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHR5cGVkTWVtbyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IFN0eWxlZENoZWNrYm94IH0gZnJvbSAnLi4vLi4vQ2hlY2tib3gvcHJpdmF0ZSc7XG5pbXBvcnQgeyBTdHlsZWRSYWRpbyB9IGZyb20gJy4uLy4uL1JhZGlvL3N0eWxlZCc7XG5pbXBvcnQgeyBEZWxheWVkU3Bpbm5lciB9IGZyb20gJy4uL0RlbGF5ZWRTcGlubmVyJztcbmltcG9ydCB7IHVzZUlzRXhwYW5kZWQsIHVzZUlzU2VsZWN0ZWQsIHVzZVNlbGVjdGVkQ2hpbGRyZW5Db3VudCB9IGZyb20gJy4uL2hvb2tzJztcbmltcG9ydCB7IFN0eWxlZFVsIH0gZnJvbSAnLi4vc3R5bGVkJztcbmltcG9ydCB7IFN0eWxlZEFycm93V3JhcHBlciwgU3R5bGVkRmxleCwgU3R5bGVkRmxleEl0ZW0sIFN0eWxlZEdhcCwgU3R5bGVkTGksIFN0eWxlZFNlbGVjdGFibGVXcmFwcGVyLCBTdHlsZWRUZXh0IH0gZnJvbSAnLi9zdHlsZWQnO1xudmFyIGZsZXhJdGVtUHJvcHMgPSB7XG4gIGZsZXhTaHJpbms6IDAsXG4gIG1hcmdpbkxlZnQ6ICd4eFNtYWxsJ1xufTtcblxudmFyIEludGVybmFsVHJlZU5vZGUgPSBmdW5jdGlvbiBJbnRlcm5hbFRyZWVOb2RlKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIGRpc2FibGVkID0gX3JlZi5kaXNhYmxlZCxcbiAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCxcbiAgICAgIGljb24gPSBfcmVmLmljb24sXG4gICAgICBpY29ubGVzcyA9IF9yZWYuaWNvbmxlc3MsXG4gICAgICBpZCA9IF9yZWYuaWQsXG4gICAgICBsYWJlbCA9IF9yZWYubGFiZWwsXG4gICAgICBvbkNvbGxhcHNlID0gX3JlZi5vbkNvbGxhcHNlLFxuICAgICAgb25FeHBhbmQgPSBfcmVmLm9uRXhwYW5kLFxuICAgICAgb25TZWxlY3QgPSBfcmVmLm9uU2VsZWN0LFxuICAgICAgc2VsZWN0YWJsZSA9IF9yZWYuc2VsZWN0YWJsZSxcbiAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIHZhbHVlID0gX3JlZi52YWx1ZTtcbiAgdmFyIHRoaXNSZWYgPSB1c2VSZWYoe1xuICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICB9KTtcbiAgdmFyIG5vZGVSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBzZWxlY3RhYmxlUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICAgIGlzTG9hZGluZyA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRJc0xvYWRpbmcgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBleHBhbmRlZCA9IHVzZUlzRXhwYW5kZWQoc3RhdGUsIGlkKTtcbiAgdmFyIHNlbGVjdGVkID0gdXNlSXNTZWxlY3RlZChzdGF0ZSwgdmFsdWUpO1xuICB2YXIgc2VsZWN0ZWRDaGlsZHJlbkNvdW50ID0gdXNlU2VsZWN0ZWRDaGlsZHJlbkNvdW50KHN0YXRlLCBjaGlsZHJlbik7IC8vIENvdWxkIGJlIG11bHRpcGxlIGVsZW1lbnRzIGluIHdoaWNoIGFyZSBjbGlja2VkLlxuICAvLyBUeXBpbmcgdG8gZ2VuZXJpYyBFbGVtZW50IHR5cGUgc2luY2UgYWxsIG90aGVyIGVsZW1lbnRzIGV4dGVuZCBmcm9tIGl0LlxuXG4gIHZhciBoYW5kbGVOb2RlVG9nZ2xlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGUpIHtcbiAgICAgIHZhciBfc2VsZWN0YWJsZVJlZiRjdXJyZW47XG5cbiAgICAgIHZhciBjYWxsYmFja1ZhbHVlLCBfY2FsbGJhY2tWYWx1ZTtcblxuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdGT0NVUycsXG4gICAgICAgICAgICAgICAgaWQ6IGlkXG4gICAgICAgICAgICAgIH0pOyAvLyBQcmV2ZW50cyB0aGUgY29sbGFwc2UvZXhwYW5kIHdoZW4gY2xpY2tpbmcgb24gYSByYWRpbyBvciBjaGVja2JveFxuICAgICAgICAgICAgICAvLyBDaGVja3MgdG8gc2VlIGlmIGV2ZXJ5IGVsZW1lbnQgaW5zaWRlIHRoZSBzZWxlY3RhYmxlUmVmIGdldHMgY2xpY2tlZC5cblxuICAgICAgICAgICAgICBpZiAoISgoZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLnRhcmdldCkgaW5zdGFuY2VvZiBOb2RlICYmICgoX3NlbGVjdGFibGVSZWYkY3VycmVuID0gc2VsZWN0YWJsZVJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfc2VsZWN0YWJsZVJlZiRjdXJyZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZWxlY3RhYmxlUmVmJGN1cnJlbi5jb250YWlucyhlID09PSBudWxsIHx8IGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUudGFyZ2V0KSkgfHwgdGhpc1JlZi5jdXJyZW50LmNoaWxkcmVuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnVE9HR0xFX05PREUnLFxuICAgICAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBpZiAoIWV4cGFuZGVkKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCEodHlwZW9mIG9uQ29sbGFwc2UgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7XG4gICAgICAgICAgICAgIHJldHVybiBvbkNvbGxhcHNlKHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogdGhpc1JlZi5jdXJyZW50LmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICAgICAgICBleHBhbmRlZDogZXhwYW5kZWQsXG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgIGNhbGxiYWNrVmFsdWUgPSBfY29udGV4dC5zZW50O1xuXG4gICAgICAgICAgICAgIGlmIChjYWxsYmFja1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpc1JlZi5jdXJyZW50ID0gY2FsbGJhY2tWYWx1ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICBpZiAoISh0eXBlb2Ygb25FeHBhbmQgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7XG4gICAgICAgICAgICAgIHJldHVybiBvbkV4cGFuZCh7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IHRoaXNSZWYuY3VycmVudC5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgZXhwYW5kZWQ6IGV4cGFuZGVkLFxuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICBsYWJlbDogbGFiZWwsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgX2NhbGxiYWNrVmFsdWUgPSBfY29udGV4dC5zZW50O1xuXG4gICAgICAgICAgICAgIGlmIChfY2FsbGJhY2tWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXNSZWYuY3VycmVudCA9IF9jYWxsYmFja1ZhbHVlO1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdBU1lOQ19UT0dHTEUnLFxuICAgICAgICAgICAgICAgICAgcmFkaW86IHNlbGVjdGFibGUgPT09ICdyYWRpbycsXG4gICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogdGhpc1JlZi5jdXJyZW50LmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuXG4gICAgICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZSk7XG4gICAgfSkpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZU5vZGVUb2dnbGUoX3gpIHtcbiAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH0oKTtcblxuICB2YXIgaGFuZGxlTm9kZVNlbGVjdGVkID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGlmIChzZWxlY3RhYmxlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCBkaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBuZXdTZWxlY3RlZFZhbHVlcyA9IF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5zZWxlY3RlZFZhbHVlcyk7XG5cbiAgICBpZiAoc2VsZWN0YWJsZSA9PT0gJ211bHRpJykge1xuICAgICAgaWYgKG5ld1NlbGVjdGVkVmFsdWVzLnNvbWUoZnVuY3Rpb24gKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkVmFsdWUudmFsdWUgPT09IHZhbHVlO1xuICAgICAgfSkpIHtcbiAgICAgICAgbmV3U2VsZWN0ZWRWYWx1ZXMgPSBuZXdTZWxlY3RlZFZhbHVlcy5maWx0ZXIoZnVuY3Rpb24gKHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZWN0ZWRWYWx1ZS52YWx1ZSAhPT0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3U2VsZWN0ZWRWYWx1ZXMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KG5ld1NlbGVjdGVkVmFsdWVzKSwgW3tcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH1dKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBvblNlbGVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvblNlbGVjdChBcnJheS5mcm9tKG5ld1NlbGVjdGVkVmFsdWVzKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNlbGVjdGFibGUgPT09ICdyYWRpbycpIHtcbiAgICAgIG5ld1NlbGVjdGVkVmFsdWVzID0gW3tcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH1dO1xuXG4gICAgICBpZiAodHlwZW9mIG9uU2VsZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9uU2VsZWN0KG5ld1NlbGVjdGVkVmFsdWVzWzBdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiAnU0VMRUNURURfTk9ERScsXG4gICAgICB2YWx1ZXM6IG5ld1NlbGVjdGVkVmFsdWVzXG4gICAgfSk7XG4gIH0sIFtkaXNhYmxlZCwgZGlzcGF0Y2gsIGlkLCBvblNlbGVjdCwgc2VsZWN0YWJsZSwgc3RhdGUuc2VsZWN0ZWRWYWx1ZXMsIHZhbHVlXSk7IC8vIE5lZWRzIHRvIGhhbmRsZSB0aGUgZm9sbG93aW5nIGtleWJvYXJkIGV2ZW50czpcbiAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL3dhaS1hcmlhLXByYWN0aWNlcy8ja2V5Ym9hcmQtaW50ZXJhY3Rpb24tMjJcblxuICB2YXIgaGFuZGxlS2V5RXZlbnQgPSBmdW5jdGlvbiBoYW5kbGVLZXlFdmVudChlKSB7XG4gICAgdmFyIF90aGlzUmVmJGN1cnJlbnQsIF90aGlzUmVmJGN1cnJlbnQyLCBfc3RhdGUkbm9kZU1hcCRnZXQ7XG5cbiAgICB2YXIga2V5ID0gZS5rZXk7XG5cbiAgICBpZiAoZS5hbHRLZXkgfHwgZS5jdXJyZW50VGFyZ2V0ICE9PSBlLnRhcmdldCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlICcgJzpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBoYW5kbGVOb2RlU2VsZWN0ZWQoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBTdG9wcGluZyBwcm9wYWdhdGlvbiBpZiBpbnNpZGUgYSBmb3JtXG5cbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBpZiAobm9kZVJlZi5jdXJyZW50ID09PSBlLmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgICBpZiAodGhpc1JlZi5jdXJyZW50LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBoYW5kbGVOb2RlVG9nZ2xlKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RhYmxlKSB7XG4gICAgICAgICAgICBoYW5kbGVOb2RlU2VsZWN0ZWQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogJ0ZPQ1VTX0RPV04nLFxuICAgICAgICAgIGlkOiBpZFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAnRk9DVVNfVVAnLFxuICAgICAgICAgIGlkOiBpZFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKChfdGhpc1JlZiRjdXJyZW50ID0gdGhpc1JlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfdGhpc1JlZiRjdXJyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpc1JlZiRjdXJyZW50LmNoaWxkcmVuKSB7XG4gICAgICAgICAgaWYgKGV4cGFuZGVkKSB7XG4gICAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgIHR5cGU6ICdGT0NVU19ET1dOJyxcbiAgICAgICAgICAgICAgaWQ6IGlkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlTm9kZVRvZ2dsZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdBcnJvd0xlZnQnOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKChfdGhpc1JlZiRjdXJyZW50MiA9IHRoaXNSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX3RoaXNSZWYkY3VycmVudDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzUmVmJGN1cnJlbnQyLmNoaWxkcmVuKSB7XG4gICAgICAgICAgaWYgKGV4cGFuZGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVOb2RlVG9nZ2xlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKChfc3RhdGUkbm9kZU1hcCRnZXQgPSBzdGF0ZS5ub2RlTWFwLmdldChpZCkpID09PSBudWxsIHx8IF9zdGF0ZSRub2RlTWFwJGdldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0YXRlJG5vZGVNYXAkZ2V0LnBhcmVudCkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6ICdGT0NVU19VUCcsXG4gICAgICAgICAgICBpZDogaWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdIb21lJzpcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogJ0ZPQ1VTX0ZJUlNUJ1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ0VuZCc6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdGT0NVU19MQVNUJ1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICB2YXIgYWRkaXRpb25hbFByb3BzID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHNlbGVjdGFibGUgPyB7XG4gICAgICAnYXJpYS1zZWxlY3RlZCc6IHNlbGVjdGVkXG4gICAgfSA6IHt9O1xuICB9LCBbc2VsZWN0YWJsZSwgc2VsZWN0ZWRdKTtcbiAgdmFyIHJlbmRlcmVkQXJyb3cgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpc1JlZi5jdXJyZW50LmNoaWxkcmVuID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkQXJyb3dXcmFwcGVyLCB7XG4gICAgICBleHBhbmRlZDogZXhwYW5kZWQsXG4gICAgICBmbGV4U2hyaW5rOiAwXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hldnJvblJpZ2h0SWNvbiwge1xuICAgICAgY29sb3I6IFwic2Vjb25kYXJ5NjBcIixcbiAgICAgIGZvY3VzYWJsZTogZmFsc2UsXG4gICAgICBzaXplOiBcInhMYXJnZVwiXG4gICAgfSkpIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkR2FwLCBudWxsKTtcbiAgfSwgW2V4cGFuZGVkXSk7XG4gIHZhciByZW5kZXJlZENoaWxkcmVuID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzUmVmJGN1cnJlbnQkY2hpbDtcblxuICAgIHJldHVybiB0aGlzUmVmLmN1cnJlbnQuY2hpbGRyZW4gJiYgZXhwYW5kZWQgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkVWwsIHtcbiAgICAgIHJvbGU6IFwiZ3JvdXBcIlxuICAgIH0sIGlzTG9hZGluZyAmJiB0aGlzUmVmLmN1cnJlbnQuY2hpbGRyZW4ubGVuZ3RoIDwgMSA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyZWVOb2RlLCB7XG4gICAgICBpZDogLTEsXG4gICAgICBsYWJlbDogXCJcIixcbiAgICAgIGljb246IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERlbGF5ZWRTcGlubmVyLCBudWxsKSxcbiAgICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcbiAgICAgIHNlbGVjdGFibGU6IHNlbGVjdGFibGUsXG4gICAgICBzdGF0ZTogc3RhdGVcbiAgICB9KSA6IChfdGhpc1JlZiRjdXJyZW50JGNoaWwgPSB0aGlzUmVmLmN1cnJlbnQuY2hpbGRyZW4pID09PSBudWxsIHx8IF90aGlzUmVmJGN1cnJlbnQkY2hpbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXNSZWYkY3VycmVudCRjaGlsLm1hcChmdW5jdGlvbiAoY2hpbGQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJlZU5vZGUsIF9leHRlbmRzKHt9LCBjaGlsZCwge1xuICAgICAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG4gICAgICAgIGljb25sZXNzOiBpY29ubGVzcyxcbiAgICAgICAga2V5OiBpbmRleCxcbiAgICAgICAgb25Db2xsYXBzZTogb25Db2xsYXBzZSxcbiAgICAgICAgb25FeHBhbmQ6IG9uRXhwYW5kLFxuICAgICAgICBvblNlbGVjdDogb25TZWxlY3QsXG4gICAgICAgIHNlbGVjdGFibGU6IHNlbGVjdGFibGUsXG4gICAgICAgIHN0YXRlOiBzdGF0ZVxuICAgICAgfSkpO1xuICAgIH0pKTtcbiAgfSwgW2Rpc3BhdGNoLCBleHBhbmRlZCwgaWNvbmxlc3MsIGlzTG9hZGluZywgb25Db2xsYXBzZSwgb25FeHBhbmQsIG9uU2VsZWN0LCBzZWxlY3RhYmxlLCBzdGF0ZV0pO1xuICB2YXIgcmVuZGVyZWRJY29uID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGljb25sZXNzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gaWNvbiA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZEZsZXhJdGVtLCBmbGV4SXRlbVByb3BzLCBpY29uKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZEZsZXhJdGVtLCBmbGV4SXRlbVByb3BzLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb2xkZXJJY29uLCB7XG4gICAgICBjb2xvcjogZGlzYWJsZWQgPyAncHJpbWFyeTIwJyA6ICdwcmltYXJ5MzAnLFxuICAgICAgc2l6ZTogXCJ4TGFyZ2VcIlxuICAgIH0pKTtcbiAgfSwgW2Rpc2FibGVkLCBpY29uLCBpY29ubGVzc10pO1xuICB2YXIgcmVuZGVyZWRTZWxlY3RhYmxlID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgc2VsZWN0YWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoc2VsZWN0YWJsZSA9PT0gJ3JhZGlvJykge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFNlbGVjdGFibGVXcmFwcGVyLCBmbGV4SXRlbVByb3BzLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRSYWRpbywge1xuICAgICAgICBcImFyaWEtaGlkZGVuXCI6IHRydWUsXG4gICAgICAgIGNoZWNrZWQ6IHNlbGVjdGVkLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIG9uQ2xpY2s6IGhhbmRsZU5vZGVTZWxlY3RlZCxcbiAgICAgICAgcmVmOiBzZWxlY3RhYmxlUmVmXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgaWYgKHNlbGVjdGFibGUgPT09ICdtdWx0aScpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRTZWxlY3RhYmxlV3JhcHBlciwgZmxleEl0ZW1Qcm9wcywgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkQ2hlY2tib3gsIHtcbiAgICAgICAgXCJhcmlhLWhpZGRlblwiOiB0cnVlLFxuICAgICAgICBjaGVja2VkOiBzZWxlY3RlZCxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICBvbkNsaWNrOiBoYW5kbGVOb2RlU2VsZWN0ZWQsXG4gICAgICAgIHJlZjogc2VsZWN0YWJsZVJlZlxuICAgICAgfSwgc2VsZWN0ZWQgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja0ljb24sIG51bGwpIDogbnVsbCkpO1xuICAgIH1cbiAgfSwgW2Rpc2FibGVkLCBoYW5kbGVOb2RlU2VsZWN0ZWQsIHNlbGVjdGVkLCBzZWxlY3RhYmxlLCB2YWx1ZV0pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChzdGF0ZS5mb2N1c2VkTm9kZSA9PT0gaWQpIHtcbiAgICAgIHZhciBfbm9kZVJlZiRjdXJyZW50O1xuXG4gICAgICBub2RlUmVmID09PSBudWxsIHx8IG5vZGVSZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfbm9kZVJlZiRjdXJyZW50ID0gbm9kZVJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfbm9kZVJlZiRjdXJyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZVJlZiRjdXJyZW50LmZvY3VzKCk7XG4gICAgfVxuICB9LCBbc3RhdGUuZm9jdXNlZE5vZGUsIGlkXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRMaSwgX2V4dGVuZHMoe1xuICAgIFwiYXJpYS1leHBhbmRlZFwiOiBleHBhbmRlZCxcbiAgICBvbktleURvd246IGhhbmRsZUtleUV2ZW50LFxuICAgIHJlZjogbm9kZVJlZixcbiAgICByb2xlOiBcInRyZWVpdGVtXCIsXG4gICAgdGFiSW5kZXg6IHN0YXRlLmZvY3VzZWROb2RlID09PSBpZCA/IDAgOiAtMVxuICB9LCBhZGRpdGlvbmFsUHJvcHMpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRGbGV4LCB7XG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgIG9uQ2xpY2s6IGhhbmRsZU5vZGVUb2dnbGUsXG4gICAgc2VsZWN0ZWQ6IHNlbGVjdGVkXG4gIH0sIHJlbmRlcmVkQXJyb3csIHJlbmRlcmVkU2VsZWN0YWJsZSwgcmVuZGVyZWRJY29uLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRUZXh0LCB7XG4gICAgYXM6IFwic3BhblwiLFxuICAgIGVsbGlwc2lzOiB0cnVlLFxuICAgIG1hcmdpbkxlZnQ6IFwieHhTbWFsbFwiLFxuICAgIGNvbG9yOiBkaXNhYmxlZCA/ICdzZWNvbmRhcnk1MCcgOiAnc2Vjb25kYXJ5NzAnXG4gIH0sIGxhYmVsLCBzZWxlY3RlZENoaWxkcmVuQ291bnQgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRUZXh0LCB7XG4gICAgYXM6IFwic3BhblwiLFxuICAgIGNvbG9yOiBcInByaW1hcnlcIlxuICB9LCAnICcsIFwiKFwiLCBzZWxlY3RlZENoaWxkcmVuQ291bnQsIFwiKVwiKSA6IG51bGwpKSwgcmVuZGVyZWRDaGlsZHJlbik7XG59O1xuXG5leHBvcnQgdmFyIFRyZWVOb2RlID0gdHlwZWRNZW1vKEludGVybmFsVHJlZU5vZGUpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../big-design/dist/es/components/Tree/TreeNode/TreeNode.js\n");

/***/ })

})